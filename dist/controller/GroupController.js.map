{"version":3,"sources":["../../src/controller/GroupController.js"],"names":["req","res","session","params","body","groupname","phone","status","send","message","clientsArray","createGroup","returnSucess","returnError","inviteCode","joinGroup","joinGroupByCode","error","json","response","log","contact"],"mappings":";;;;;;;;;;;;;;;;wFAuBO,iBAA2BA,GAA3B,EAAgCC,GAAhC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACIC,+BADJ,GACeF,IAAIG,MADnB,CACID,OADJ;AAAA,oCAEwBF,IAAII,IAF5B,EAEIC,SAFJ,aAEIA,SAFJ,EAEeC,KAFf,aAEeA,KAFf;;AAAA,4BAIEJ,OAJF;AAAA;AAAA;AAAA;;AAAA,yDAKQD,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,uBAAV,EAArB,CALR;;AAAA;AAAA,4BAOEJ,SAPF;AAAA;AAAA;AAAA;;AAAA,yDAQQJ,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,oCAAV,EAArB,CARR;;AAAA;AAAA,4BAUEH,KAVF;AAAA;AAAA;AAAA;;AAAA,yDAWQL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,+BAAV,EAArB,CAXR;;AAAA;AAAA;AAAA;AAAA,+BAcOC,0BAAa,6BAAWR,OAAX,CAAb,EAAkCS,WAAlC,CAA8CN,SAA9C,EAAyDC,KAAzD,CAdP;;AAAA;;AAgBCM,qCAAaX,GAAb,EAAkBC,OAAlB,EAA2BI,KAA3B,eAA6CD,SAA7C;AAhBD;AAAA;;AAAA;AAAA;AAAA;;AAkBCQ,oCAAYZ,GAAZ,EAAiBC,OAAjB,eAAiC,wBAAjC;;AAlBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeS,W;;;;;;yFAsBf,kBAA+BX,GAA/B,EAAoCC,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AACIC,+BADJ,GACeF,IAAIG,MADnB,CACID,OADJ;AAEIY,kCAFJ,GAEkBd,IAAII,IAFtB,CAEIU,UAFJ;;AAAA,4BAIE,6BAAWZ,OAAX,CAJF;AAAA;AAAA;AAAA;;AAAA,0DAKQD,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,6BAAV,EAArB,CALR;;AAAA;AAAA,4BAOEK,UAPF;AAAA;AAAA;AAAA;;AAAA,0DAQQb,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,SAAS,6BAAV,EAArB,CARR;;AAAA;AAAA;AAAA;AAAA,+BAWOC,0BAAa,6BAAWR,OAAX,CAAb,EAAkCa,SAAlC,CAA4CD,UAA5C,CAXP;;AAAA;;AAaCF,qCAAaX,GAAb,EAAkBC,OAAlB,EAA2BY,UAA3B,EAAuC,kCAAvC;AAbD;AAAA;;AAAA;AAAA;AAAA;;AAeCD,oCAAYZ,GAAZ,EAAiBC,OAAjB,gBAAiC,2BAAjC;;AAfD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAec,e;;;;;AA5CtB;;;;AAEA,SAASH,WAAT,CAAqBZ,GAArB,EAA0BC,OAA1B,EAAmCe,KAAnC,EAA0CR,OAA1C,EAAmD;AAC/CR,QAAIM,MAAJ,CAAW,GAAX,EAAgBW,IAAhB,CAAqB;AACjBC,kBAAU;AACNV,qBAASA,OADH;AAENP,qBAAS,6BAAWA,OAAX,CAFH;AAGNkB,iBAAKH;AAHC;AADO,KAArB;AAOH,C,CAXD;;;AAaA,SAASL,YAAT,CAAsBX,GAAtB,EAA2BC,OAA3B,EAAoCI,KAApC,EAA2CG,OAA3C,EAAoD;AAChDR,QAAIM,MAAJ,CAAW,GAAX,EAAgBW,IAAhB,CAAqB;AACjBC,kBAAU;AACNV,qBAASA,OADH;AAENY,qBAASf,KAFH;AAGNJ,qBAAS,6BAAWA,OAAX;AAHH;AADO,KAArB;AAOH","file":"GroupController.js","sourcesContent":["// Group Functions\nimport {clientsArray, getSession} from \"../util/SessionUtil\";\n\nfunction returnError(res, session, error, message) {\n    res.status(400).json({\n        response: {\n            message: message,\n            session: getSession(session),\n            log: error\n        },\n    })\n}\n\nfunction returnSucess(res, session, phone, message) {\n    res.status(201).json({\n        response: {\n            message: message,\n            contact: phone,\n            session: getSession(session)\n        },\n    })\n}\n\nexport async function createGroup(req, res) {\n    const {session} = req.params\n    const {groupname, phone} = req.body\n\n    if (!session)\n        return res.status(401).send({message: 'Sessão não informada.'});\n\n    if (!groupname)\n        return res.status(401).send({message: 'O nome do grupo não foi informado.'});\n\n    if (!phone)\n        return res.status(401).send({message: 'O Telefone não foi informado.'});\n\n    try {\n        await clientsArray[getSession(session)].createGroup(groupname, phone);\n\n        returnSucess(res, session, phone, `O grupo ${groupname} foi criado com sucesso`)\n    } catch (error) {\n        returnError(res, session, error, \"O grupo não foi criado\")\n    }\n}\n\nexport async function joinGroupByCode(req, res) {\n    const {session} = req.params\n    const {inviteCode} = req.body\n\n    if (!getSession(session))\n        return res.status(401).send({message: 'A Sessão não foi informada.'});\n\n    if (!inviteCode)\n        return res.status(401).send({message: 'Informe o Codigo de Convite'});\n\n    try {\n        await clientsArray[getSession(session)].joinGroup(inviteCode);\n\n        returnSucess(res, session, inviteCode, \"Você entrou no grupo com sucesso\")\n    } catch (error) {\n        returnError(res, session, error, \"Você não entrou no grupo.\")\n    }\n}"]}